<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>鉄道情報 - 近畿</title>

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">

  <!-- Color the status bar on mobile devices -->
  <meta name="theme-color" content="#2F3BA2">

  <link rel="stylesheet" href="./material-components-web.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body>

  <script>
    $.get(
      "https://script.google.com/macros/s/AKfycbxiYNy7XIfZPPstnCpw8M_zwQKCHfBT1FKfnuoSWJAKjxhqeUA8/exec?http://www.jikokuhyo.co.jp/news/view/category_is/kansai/page/1", {},
      function (data) {
        // HTMLの結果を取得（引数のcharsetは設定したほうが良い）
        var content = data.replace(/\r?\n/g, '');
        var array = content.match(
          /<a href="\/search\/detail\/line_is\/.+?">.+?<span class="accent_color">.+?<\/span><br>.+?<\/a>/g);
        for (var i = 0; i < result.length; i++) {
          var item = result[i];
          var time = item.match(/<a href="\/search\/detail\/line_is\/.+?">.+? </)[0];
          time = time.substring(0, time.length - 2);
          time = time.substring(time.indexOf(">") + 1);
          var train = item.match(/<span class="accent_color">.+?<\/span>/)[0];
          train = train.substring(27, train.length - 7);
          var status = item.match(/<br>.+?<\/a>/)[0];
          status = status.substring(4, status.length - 4);
          console.log(time + " : " + train + "は" + status + "です。");
        }
        //alert('page content: ' + data);
      }
    );
  </script>
  <style>
    .demo-list-item {
      width: 300px;
    }
  </style>

  <!-- Always shows a header, even in smaller screens. -->
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">鉄道情報 - 近畿</span>
        <!-- Add spacer, to align navigation to the right -->
        <div class="mdl-layout-spacer"></div>
        <!-- Navigation. We hide it in small screens. -->
        <nav class="mdl-navigation mdl-layout--large-screen-only">
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
        </nav>
      </div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title">Title</span>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link" href="">Link</a>
        <a class="mdl-navigation__link" href="">Link</a>
        <a class="mdl-navigation__link" href="">Link</a>
        <a class="mdl-navigation__link" href="">Link</a>
      </nav>
    </div>
    <main class="mdl-layout__content">
      <div class="page-content">
        <!-- Your content goes here -->
        <br>
        <center>
          <button class="foo-button mdc-button">最新の情報に再読込</button>
          <ul class="demo-list-item mdl-list">
            <li class="mdl-list__item">
              <span class="mdl-list__item-primary-content">
                Bryan Cranston
              </span>
            </li>
          </ul>
        </center>
      </div>
    </main>
  </div>

  <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-XXXXX-X', 'auto');
    ga('send', 'pageview');
  </script>
  <!-- Built with love using Web Starter Kit -->
</body>

</html>