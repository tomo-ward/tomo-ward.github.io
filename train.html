<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>鉄道情報 - 近畿</title>

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">

  <!-- Color the status bar on mobile devices -->
  <meta name="theme-color" content="#2F3BA2">

  <link rel="stylesheet" href="./material-components-web.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body>

  <script>
    //"https://script.google.com/macros/s/AKfycbxiYNy7XIfZPPstnCpw8M_zwQKCHfBT1FKfnuoSWJAKjxhqeUA8/exec?http://www.jikokuhyo.co.jp/news/view/category_is/kansai/page/1"
    $.get(
      "https://script.googleusercontent.com/macros/echo?user_content_key=RGjgdb639RzuFCwLM3AG-iMUrG--04MHtTAb-IbVzb39zIvbWO9zHoqLPRG6_4W2SL53S9qfYGmO2sqem7BaVS-z-2bH8s0LOJmA1Yb3SEsKFZqtv3DaNYcMrmhZHmUMWojr9NvTBuBLhyHCd5hHa9FVu42tg6O6KVHBp3g1tbZkGxf7aLRjcwk2QeE51MF_9S__SDCd7-9sqyBzmDM2S8pvpotrCrqaBCRrZReUrtXhCStiXHnHCrRRVVYMnNOK53NR-4IDE8w73mQPjgX8v5J_TdFXj0gAEfp9iCiIBOGRrQ1Hx66N-VWTS2VRILtj&lib=MHVt8G4bPjge1cxH1SoSR7ZE9fKNOmxrb", {
        "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8",
        "accept-encoding": "gzip, deflate, br",
        "accept-language": "ja-JP,ja;q=0.9,en-US;q=0.8,en;q=0.7",
        "cache-control": "no-cache",
        "origin": "http://evil.com/",
        "pragma": "no-cache",
        "upgrade-insecure-requests": "1",
        "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3521.2 Safari/537.36",
        "x-client-data": "CIm2yQEIpbbJAQisncoBCNedygEI2Z3KAQiWn8oBCLCmygEIiqfKAQiNp8oBGLCYygEY+aXKAQ=="
      },
      function (data) {
        // HTMLの結果を取得（引数のcharsetは設定したほうが良い）
        var content = data.replace(/\r?\n/g, '');
        var array = content.match(
          /<a href="\/search\/detail\/line_is\/.+?">.+?<span class="accent_color">.+?<\/span><br>.+?<\/a>/g);
        for (var i = 0; i < result.length; i++) {
          var item = result[i];
          var time = item.match(/<a href="\/search\/detail\/line_is\/.+?">.+? </)[0];
          time = time.substring(0, time.length - 2);
          time = time.substring(time.indexOf(">") + 1);
          var train = item.match(/<span class="accent_color">.+?<\/span>/)[0];
          train = train.substring(27, train.length - 7);
          var status = item.match(/<br>.+?<\/a>/)[0];
          status = status.substring(4, status.length - 4);
          console.log(time + " : " + train + "は" + status + "です。");
        }
        //alert('page content: ' + data);
      }
    );
  </script>
  <style>
    .demo-list-item {
      width: 300px;
    }
  </style>

  <!-- Always shows a header, even in smaller screens. -->
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">鉄道情報 - 近畿</span>
        <!-- Add spacer, to align navigation to the right -->
        <div class="mdl-layout-spacer"></div>
        <!-- Navigation. We hide it in small screens. -->
        <nav class="mdl-navigation mdl-layout--large-screen-only">
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
        </nav>
      </div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title">Title</span>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link" href="">Link</a>
        <a class="mdl-navigation__link" href="">Link</a>
        <a class="mdl-navigation__link" href="">Link</a>
        <a class="mdl-navigation__link" href="">Link</a>
      </nav>
    </div>
    <main class="mdl-layout__content">
      <div class="page-content">
        <!-- Your content goes here -->
        <br>
        <center>
          <button class="foo-button mdc-button">最新の情報に再読込</button>
          <ul class="demo-list-item mdl-list">
            <li class="mdl-list__item">
              <span class="mdl-list__item-primary-content">
                Bryan Cranston
              </span>
            </li>
          </ul>
        </center>
      </div>
    </main>
  </div>

  <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-XXXXX-X', 'auto');
    ga('send', 'pageview');
  </script>
  <!-- Built with love using Web Starter Kit -->
</body>

</html>